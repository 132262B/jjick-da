<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="app.jjickda.api.exam.repository.ExamRepository">

    <!-- 시험문제 조회  -->
    <select id="examQuestion" resultType="examInfoDto">
        SELECT
            TEQ.IDX AS QUESTION_IDX,
            TEM.FILE_ID,
            TEQ.QUESTION_NUMBER,
            TEQ.QUESTION_NAME
        FROM
            TB_EXAM_QUESTION AS TEQ
        LEFT JOIN
            TB_EXAM_MULTIMEDIA AS TEM
        ON
            TEQ.MULTIMEDIA_IDX = TEM.IDX
        WHERE
            TEQ.EXAM_IDX IN (
            <foreach collection="examIdxArray" item="item" index="index" separator=",">
                #{item}
            </foreach>
            )
            AND TEQ.SUBJECT_IDX = 4
    </select>

</mapper>