<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="app.jjickda.api.admin.repository.AdminRepository">

    <insert id="registMain">
        INSERT
          INTO exam_main_category
             ( main_ctg_name
             , use_status
             , reg_date
             , reg_seq
             )
        VALUES
             ( #{main_question.main_ctg_name}
             , 1
             , now()
             , 0
             );
    </insert>

    <insert id="registSub">
        INSERT INTO exam_sub_category(
            main_ctg_seq,
            sub_ctg_name,
            use_status,
            reg_date,
            reg_seq
        )VALUES(
            #{sub_question.main_ctg_seq},
            #{sub_question.sub_ctg_name},
            1,
            now(),
            0
        );




    </insert>


    <select id="getMainList" resultType="app.jjickda.api.admin.dto.MainQuestionDto">
        SELECT main_ctg_seq, main_ctg_name, use_status, reg_date, reg_seq, udt_date, udt_seq
            FROM exam_main_category;
    </select>

    <select id="getSubList" resultType="app.jjickda.api.admin.dto.SubQuestionDto">
        SELECT sub_ctg_seq, sub_ctg_name, use_status, reg_date, reg_seq, udt_date, udt_seq
        FROM exam_sub_category;
    </select>



</mapper>